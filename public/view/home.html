<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PingMe</title>
    <link rel="stylesheet" href="/css/home.css" />
  </head>
  <body>
    <header class="navbar">
      <div class="greeting">Hi, <span id="user-name"></span>!</div>
      <button id="logout">Logout</button>
    </header>

    <!-- Main content area: sidebar + chat -->
    <div class="main-content">
      <!-- Sidebar: home screen -->
      <aside id="home-screen">
        <p><a href="#create-group" id="create-group-btn">Create Group</a></p>
        <ul id="dashboard">
          <!-- populated dynamically -->
        </ul>
      </aside>

      <!-- Chat area -->
      <section id="message-screen" hidden>
        <div id="chat-container">
          <h2 id="group-name-header">Group Chat</h2>
          <button id="edit-group-btn" style="display: none">Edit</button>
          <ul id="user-online"></ul>
          <ul id="chat-messages"></ul>
          <div id="message-input">
            <input
              type="text"
              id="send-message"
              placeholder="Type a message..."
            />
            <button id="send-button">Send</button>
          </div>
        </div>
      </section>
    </div>

    <!-- Create Group Panel (overlay) -->
    <div id="create-group" class="overlay" hidden>
      <div class="panel">
        <button class="close-btn">&times;</button>
        <h2>Create New Group</h2>
        <label for="group-name">Group name:</label>
        <input type="text" id="group-name" />

        <div id="choose-contacts">
          <p>Add contacts to group:</p>
          <!-- checkboxes added dynamically -->
        </div>
        <button id="save-group">Save Group</button>
      </div>
    </div>

    <!-- Add this at the bottom -->
    <div id="admin-modal" class="overlay" hidden>
      <div class="panel">
        <button class="close-btn">&times;</button>
        <h2>Manage Group</h2>

        <div class="section">
          <h3>Members</h3>
          <ul id="member-list"></ul>
        </div>
        <div class="section">
          <h3>Add Members</h3>
          <select id="add-member-select">
            <option value="">Select a user</option>
          </select>
          <button id="add-member-btn">Add</button>
        </div>
      </div>
    </div>

  </body>
  <script
    src="https://cdn.socket.io/4.8.1/socket.io.min.js"
    integrity="sha384-mkQ3/7FUtcGyoppY6bz/PORYoGqOl7/aSUMn2ymDOJcapfS6PHqxhRTMh1RR0Q6+"
    crossorigin="anonymous"
  ></script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
<script src="https://cdn.jsdelivr.net/npm/d3-scale-chromatic@3.1.0/dist/d3-scale-chromatic.min.js"></script> -->
  <script src="/js/helper.js"></script>
  <script src="/js/home.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</html>
